name: Run Tests

on: [push, pull_request]

jobs:
  test:
    name: Notifications
    runs-on: ubuntu-latest
    steps:
      - name: Send Telegram message on failure  # üîπ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram
        if: failure()
        run: |
          curl -s -X POST https://api.telegram.org/bot${{ secrets.TELEGRAM_BOT_TOKEN }}/sendMessage \
            -d chat_id=${{ secrets.TELEGRAM_CHAT_ID }} \
            -d text="‚ùå –û—à–∏–±–∫–∞ –≤ practice_2 –Ω–∞ Python ${{ matrix.python-version }}." \
            -d parse_mode=Markdown

      - name: Send Telegram message on success  # üîπ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram
        if: success()
        run: |
          curl -s -X POST https://api.telegram.org/bot${{ secrets.TELEGRAM_BOT_TOKEN }}/sendMessage \
            -d chat_id=${{ secrets.TELEGRAM_CHAT_ID }} \
            -d text="‚úÖ –£—Å–ø–µ—à–Ω–æ –ø—Ä–æ—à–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ practice_2 –Ω–∞ Python ${{ matrix.python-version }}." \
            -d parse_mode=Markdown
